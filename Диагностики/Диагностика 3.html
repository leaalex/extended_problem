<problem>

    <script type="loncapa/python">
more_sign = ">"
def check_answer(expect, ans):
    return 1

    </script>

    <style type="text/css">

        .answer-table td {
            border: 1px solid;
            margin: 20px 0;
            padding: 10px;
            border: 1px solid #c8c8c8;
            font-size: 14px;
        }

        .answer-table th {
            background: white;
        }

        .radio-td {
            text-align: center;
            position: relative;
            height: 30px;
        }

        .title-td {
            padding: 6px !important;

        }

        .radio-label {
            margin-bottom: 0px;
            margin-top: 0px;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .radio-label input {
            width: 15px !important;
            height: 15px !important;
        }

        .radio-input:hover {
            cursor: pointer;
        }

        .answer-table tr:hover {
            background: #d5f0fd;
        }

        th.heading-td {
            position: sticky;
            top: 0;
            z-index: 10;
            width: 80px !important;
            text-align: center !important;

            margin: 20px 0 !important;
            padding: 10px !important;
            border: 1px solid #c8c8c8;
            /*font-size: 14px;*/
            background: #eee !important;
        }
        span.submit-label {
            text-transform: initial !important;
        }

    </style>

    <script type="text/javascript">
        $(document).ready(function () {

            let answer = new Answer(document.querySelector("#temperament_diagnostic_input").querySelector("input[type='text']"));

            function clearProblemSigns(element) {
                let problemXBlock = $(element).closest('.xblock');
                $(".problem-progress", problemXBlock).hide();
                $(".button.submit", problemXBlock).hide();
                $(".notification", problemXBlock).hide();
                $(".problem-action-buttons-wrapper", problemXBlock).hide();
            }

            function Answer(elementField) {
                this.elementField = elementField;
                this.fieldValue = "";
                this.fieldObject = {};
                this.get = function () {
                    this.fieldValue = elementField.value;
                    return this.fieldValue;
                };
                this.set = function (value) {
                    if (value == undefined) value = this.fieldValue;
                    elementField.value = value;
                };
                this.getJSON = function () {
                    if (this.isJsonString(this.get())) this.fieldObject = JSON.parse(this.get());
                    return this.fieldObject;
                };
                this.setJSON = function (object) {
                    if (object == undefined) object = this.fieldObject;
                    this.set(JSON.stringify(object))
                };
                this.isJsonString = function (str) {
                    try {
                        JSON.parse(str);
                    } catch (e) {
                        return false;
                    }
                    return true;
                };
            };

            function reset_answer() {
                state.completed = false;
                // state.result.calculated =  {};
                // state.result.user_answers =  {};
                answer.setJSON({answer: state});
            }

            let TemperamentDiagnostic = function (html_element) {

                let temperament_block = $("<div/>", {class: "temperament-block"}).appendTo(html_element);

                const questions = {
                    question_1: {
                        text: "Часто ли вы испытываете тягу к новым впечатлениям, к тому, чтобы отвлечься, испытать сильные ощущения?"
                    },
                    question_2: {
                        text: "Часто ли вы чувствуете, что нуждаетесь в друзьях, которые могут вас понять, ободрить, посочувствовать?"
                    },
                    question_3: {
                        text: "Считаете ли вы себя беззаботным человеком?"
                    },
                    question_4: {
                        text: "Очень ли трудно вам отказаться от своих намерений?"
                    },
                    question_5: {
                        text: "Обдумываете ли вы свои дела не спеша и предпочитаете ли подождать, прежде чем действовать?"
                    },
                    question_6: {
                        text: "Всегда ли вы сдерживаете свои обещания, даже если это вам невыгодно?"
                    },
                    question_7: {
                        text: "Часто ли у вас бывают спады и подъемы настроения?"
                    },
                    question_8: {
                        text: "Быстро ли вы обычно действуете и говорите?"
                    },
                    question_9: {
                        text: "Возникало ли у вас когда-нибудь чувство, что вы несчастны, хотя никакой серьезной причины для этого не было?"
                    },
                    question_10: {
                        text: " Верно ли, что на «спор» вы способны решиться на все?"
                    },
                    question_11: {
                        text: " Смущаетесь ли вы, когда хотите познакомиться с человеком противоположного пола, который вам симпатичен?"
                    },
                    question_12: {
                        text: "Бывает ли когда-нибудь, что, разозлившись, вы выходите из себя?"
                    },
                    question_13: {
                        text: "Часто ли бывает, что вы действуете необдуманно, под влиянием момента?"
                    },
                    question_14: {
                        text: "Часто ли вас беспокоит мысль о том, что вам не следовало что-либо делать или говорить?"
                    },
                    question_15: {
                        text: "Предпочитаете ли вы чтение книг встречам с людьми?"
                    },
                    question_16: {
                        text: "Верно ли, что вас легко задеть?"
                    },
                    question_17: {
                        text: "Любите ли вы часто бывать в компании?"
                    },
                    question_18: {
                        text: "Бывают ли у вас такие мысли, которыми вам бы не хотелось делиться с другими?"
                    },
                    question_19: {
                        text: "Верно ли, что иногда вы настолько полны энергии, что все горит в руках, а иногда чувствуете усталость?"
                    },
                    question_20: {
                        text: "Стараетесь ли вы ограничить круг своих знакомств небольшим числом самых близких друзей?"
                    },
                    question_21: {
                        text: "Много ли вы мечтаете?"
                    },
                    question_22: {
                        text: "Когда на вас кричат, отвечаете ли вы тем же?"
                    },
                    question_23: {
                        text: "Считаете ли вы все свои привычки хорошими?"
                    },
                    question_24: {
                        text: "Часто ли у вас появляется чувство, что вы в чем-то виноваты?"
                    },
                    question_25: {
                        text: "Способны ли вы иногда дать волю своим чувствам и беззаботно развлекаться в веселой компании?"
                    },
                    question_26: {
                        text: "Можно ли сказать, что нервы у вас часто бывают натянуты до предела?"
                    },
                    question_27: {
                        text: "Слывете ли вы человеком живым и веселым?"
                    },
                    question_28: {
                        text: "После того как дело сделано, часто ли вы мысленно возвращаетесь к нему и думаете, что смогли бы сделать лучше?"
                    },
                    question_29: {
                        text: "Чувствуете ли вы себя неспокойно, находясь в большой компании?"
                    },
                    question_30: {
                        text: "Бывает ли, что вы передаете слухи?"
                    },
                    question_31: {
                        text: "Бывает ли, что вам не спится из-за того, что в голову лезут разные мысли?"
                    },
                    question_32: {
                        text: "Если вы хотите что-то узнать, вы предпочитаете найти это в книге или спросить у людей?"
                    },
                    question_33: {
                        text: "Бывает ли у вас сильное сердцебиение?"
                    },
                    question_34: {
                        text: "Нравится ли вам работа, требующая сосредоточения?"
                    },
                    question_35: {
                        text: "Бывают ли у вас приступы дрожи?"
                    },
                    question_36: {
                        text: "Всегда ли вы говорите правду?"
                    },
                    question_37: {
                        text: "Бывает ли вам неприятно находиться в компании, где подшучивают друг над другом?"
                    },
                    question_38: {
                        text: "Раздражительны ли вы?"
                    },
                    question_39: {
                        text: "Нравится ли вам работа, требующая быстродействия?"
                    },
                    question_40: {
                        text: "Верно ли, что вам часто не дают покоя мысли о разных неприятностях и ужасах, которые могли бы произойти, хотя все закончилось благополучно?"
                    },
                    question_41: {
                        text: "Верно ли, что вы неторопливы в движениях и несколько медлительны?"
                    },
                    question_42: {
                        text: "Опаздываете ли вы когда-нибудь на работу или на встречу с кем-либо?"
                    },
                    question_43: {
                        text: "Часто ли вам снятся кошмары?"
                    },
                    question_44: {
                        text: "Верно ли, что вы так любите поговорить, что не упускаете любого случая побеседовать с новым человеком?"
                    },
                    question_45: {
                        text: "Беспокоят ли вас какие-нибудь боли?"
                    },
                    question_46: {
                        text: "Огорчились бы вы, если бы долго не могли видеться с друзьями?"
                    },
                    question_47: {
                        text: "Вы нервный человек?"
                    },
                    question_48: {
                        text: "Есть ли среди ваших знакомых те, которые явно вам не нравятся?"
                    },
                    question_49: {
                        text: "Вы уверенный в себе человек?"
                    },
                    question_50: {
                        text: "Легко ли вас задевает критика ваших недостатков или вашей работы?"
                    },
                    question_51: {
                        text: "Трудно ли вам получить настоящее удовольствие от мероприятий, в которых участвует много народу?"
                    },
                    question_52: {
                        text: "Беспокоит ли вас чувство, что вы чем-то хуже других?"
                    },
                    question_53: {
                        text: "Сумели бы вы внести оживление в скучную компанию?"
                    },
                    question_54: {
                        text: "Бывает ли, что вы говорите о вещах, в которых совсем не разбираетесь?"
                    },
                    question_55: {
                        text: "Беспокоитесь ли вы о своем здоровье?"
                    },
                    question_56: {
                        text: "Любите ли вы подшутить над другими?"
                    },
                    question_57: {
                        text: "Страдаете ли вы бессонницей?"
                    }
                };

                const answer_choices = {
                    y: {
                        text: "Да",
                        value: 1
                    },
                    n: {
                        text: "Нет",
                        value: 0
                    }
                };

                const types = {
                    extraversion: {
                        y: [1, 3, 8, 10, 13, 17, 22, 25, 27, 39, 44, 46, 49, 53, 56],
                        n: [5, 15, 20, 29, 32, 37, 41, 51]
                    },
                    neuroticism:{
                        y: [2, 4, 7, 9, 11, 14, 16, 19, 21, 23, 26, 28, 31, 33, 35, 38, 40, 43, 45, 47, 50, 52, 55, 57],
                        n: []
                    },
                    lying: {
                        y: [6, 24, 36],
                        n: [12, 18, 30, 42, 48, 54]
                    }
                };

                function calculate_result(){
                    let result = {
                        extraversion: 0,
                        neuroticism: 0,
                        lying: 0
                    };

                    Object.keys(state.result.user_answers).forEach(function (item, idx) {
                        let num_question = parseInt(item.replace("question_", ""));

                        if (Object.keys(answer_choices).includes(state.result.user_answers[item])) {
                            if(types.extraversion.y.includes(num_question)){
                                if (state.result.user_answers[item] === 'y'){
                                    result.extraversion += 1;
                                }
                            }
                            else if(types.extraversion.n.includes(num_question)){
                                if (state.result.user_answers[item] === 'n'){
                                    result.extraversion += 1;
                                }
                            }
                            if(types.neuroticism.y.includes(num_question)){
                                if (state.result.user_answers[item] === 'y'){
                                    result.neuroticism += 1;
                                }
                            }
                            else if(types.neuroticism.n.includes(num_question)){
                                if (state.result.user_answers[item] === 'n'){
                                    result.neuroticism += 1;
                                }
                            }
                            if(types.lying.y.includes(num_question)){
                                if (state.result.user_answers[item] === 'y'){
                                    result.lying += 1;
                                }
                            }
                            else if(types.lying.n.includes(num_question)){
                                if (state.result.user_answers[item] === 'n'){
                                    result.lying += 1;
                                }
                            }
                            else{
                                // console.error("Undefined question.");
                            }
                        }
                        else{
                            // console.error("Undefined answer.");
                        }
                    });

                    return result;
                }

                function create_answer_block() {

                    let task_text = `
                                <h2>Темпераменты</h2>
                                <p>Еще со школьной скамьи всем известны четыре типа темперамента, на которые делятся люди. Разграничение ведется в зависимости от поведенческих реакций на предполагаемые события, из них складываются четкие модели поведения. Интересно, что черты характера могут проявляться в человеке независимо от типа темперамента. Многие не задумываются об этом, путая понятия или объединяя их в одно. Но из этих различий четко видно, что каждый человек уникален, так как события, житейский опыт, детство, социальная среда - все это воспитывает характер.</p>
                                <h2>Свойства темперамента</h2>
                                <p>Проявления свойств в зависимости от типа личности существенно отличаются. Именно это дает возможность проведения качественной диагностики темперамента и характера.</p>
                                <ol>
                                <li>Сенситивность. Это определение характеризует реакцию индивида на внешние раздражители. Каждый из типов реагирует по-разному, один проявит бурную реакцию, если его задеть. Другой не обратит внимания.</li>
                                <li>Реактивность. Характеризуется непроизвольной реакцией на внешние или внутренние раздражители, такие как резкие звуки, громкая музыка или крик.</li>
                                <li>Активность. Относится к реакции на внешний мир. Целеустремленность, готовность преодолевать трудности, способность стойко противостоять жизненным неурядицам.</li>
                                <li>Пластичность (ригидность). Свойство приспосабливаться к меняющимся обстоятельствам. Жизненная гибкость.</li>
                                <li>Темп реактивной деятельности. Скорость реакции. Возможность быстро реагировать на раздражители.</li>
                                <li>Интроверсия (экстраверсия). Способность к принятию быстрых решений. Скорость восприятия информации.</li>
                                <li>Эмоциональная возбудимость. Внешние проявления ответной реакции.</li>
                                </ol>
                                <p>На основании перечисленных свойств строится сложная диагностика типов темпераментов. Как понять, к какому типу отнести себя? Свойства типов темпераментов связывают также с гормональной природой, физиологическими процессами в организме, строением фигуры.</p>
                                <h2>Метод определения типа темперамента</h2>
                                <p>Самый обширный и популярный способ - это метод диагностики темперамента Айзенка.</p>
                                <p>Ганс Юрген Айзенк - британский ученый-психолог. Разработал систему вопросов, отвечая на которые «да» или «нет» можно провести диагностику свойств и типов темпераментов. Результатом прохождения опросника станет выявление действительного собственного «я» с учетом интроверсии и экстраверсии. Методика выявляет также эмоциональную устойчивость личности. Тест Айзенка является классическим методом определения типологии личности, одним из самых используемых в современной психологии.</p>
                                <h2>Опросник Айзенка</h2>
                                <p>Итак, ответьте на ряд вопросов. Не задумывайтесь долго над ответами, действуйте по велению сознания.</p>
                                `

                    temperament_block.append(task_text);

                    let answer_table = $("<table/>", {
                        class: "answer-table"
                    });
                    state.result.calculated = {};

                    let thead = $("<thead/>").appendTo(answer_table);

                    var table_heading = $("<tr/>", {html: $("<th/>", {html: "Вопрос",class: "heading-td" } )}).appendTo(thead);

                    Object.keys(answer_choices).forEach(function (item) {
                        table_heading.append($("<th/>", {html: answer_choices[item].text, class: "heading-td"}));
                    });

                    let tbody = $("<tbody/>",{});
                    answer_table.append(tbody);



                    Object.keys(questions).forEach(function (item) {

                        let question_num = item.replace("question_", "");
                        state.result.user_answers[item] = "";

                        var table_tr = $("<tr/>", {});
                        var table_td = $("<td/>", {html:question_num + ". " + questions[item].text, class: "title-td"});
                        table_tr.append(table_td);

                        Object.keys(answer_choices).forEach(function (choice, index) {
                            let radio_label = $("<label/>", {
                                class: "radio-label",
                            });
                            let radio_input = $("<input/>", {
                                type: "radio",
                                class: "radio-input",
                                value: choice,
                                name: item
                            });

                            radio_label.prepend(radio_input);
                            let choice_td = $("<td/>", {class: "radio-td", html: radio_label});
                            table_tr.append(choice_td);
                        });
                        answer_table.append(table_tr)
                    });

                    answer.setJSON({answer: state});

                    $(temperament_block).append(answer_table);

                    // submit_button.attr("disabled", "disabled");
                    $(".answer-table .radio-input").change(function () {
                        state.result.user_answers[this.name] = this.value;
                        if (Object.keys(state.result.user_answers).map(function (item) {
                            return state.result.user_answers[item]
                        }).every(function (element) {
                            return element.length != 0
                        })) {
                            // console.log("REMOVE DISABLED");
                            submit_button.removeAttr("disabled");
                            state.completed = true;
                        }
                        else{
                            submit_button.attr("disabled", "disabled");
                        }
                        state.result.calculated = calculate_result();

                        answer.setJSON({answer: state});
                    });

                }

                function create_result_block() {
                    // temperament_block.append($("<h2/>", {html: "Расшифровка"}));
                    // temperament_block.append($("<div/>", {}));
                    $('body').scrollTo("#temperament_diagnostic_block");

                    function range(j, k) {
                        return Array
                            .apply(null, Array((k - j) + 1))
                            .map(function(_, n){ return n + j; });
                    }


                    temperament_block.append("<h2>Экстраверсия: </h2>");
                    temperament_block.append("<p><strong>Набранные баллы: " + state.result.calculated.extraversion + "</strong></p>");
                    if (range(0,10).includes(state.result.calculated.extraversion)){
                        temperament_block.append("<p>Вы интроверт, замкнуты внутри себя.</p>");
                    }
                    else if (range(11,14).includes(state.result.calculated.extraversion)){
                        temperament_block.append("<p>Вы амбиверт, общаетесь, когда вам это нужно.</p>");
                    }
                    else if (range(15,25).includes(state.result.calculated.extraversion)){
                        temperament_block.append("<p>Вы экстраверт, общительны, обращены к внешнему миру.</p>");
                    }

                    temperament_block.append("<h2>Нейротизм: </h2>");
                    temperament_block.append("<p><strong>Набранные баллы: " + state.result.calculated.neuroticism + "</strong></p>");
                    if (range(0,10).includes(state.result.calculated.neuroticism)){
                        temperament_block.append("<p>Вам присуща эмоциональная устойчивость.</p>");
                    }
                    else if (range(11,16).includes(state.result.calculated.neuroticism)){
                        temperament_block.append("<p>Вам присуща эмоциональная впечатлительность.</p>");
                    }
                    else if (range(17,22).includes(state.result.calculated.neuroticism)){
                        temperament_block.append("<p>Появляются отдельные признаки расшатанности нервной системы.</p>");
                    }
                    else if (range(23,25).includes(state.result.calculated.neuroticism)){
                        temperament_block.append("<p>У вас нейротизм, граничащий с патологией, возможен срыв, невроз.</p>");
                    }

                    temperament_block.append("<h2>Ложь: </h2>");
                    temperament_block.append("<p><strong>Набранные баллы: " + state.result.calculated.lying + "</strong></p>");

                    if (range(0,3).includes(state.result.calculated.lying)){
                        temperament_block.append("<p>Это норма человеческой лжи, ответам можно доверять.</p>");
                    }
                    else if (range(4,5).includes(state.result.calculated.lying)){
                        temperament_block.append("<p>Сомнитетельно, что ваши ответы достоверны.</p>");
                    }
                    else if (range(6,11).includes(state.result.calculated.lying)){
                        temperament_block.append("<p>Ваши ответы недостоверны.</p>");
                    }

                    let end_description = `
                                        <p>Результат сведите по баллам в шкалу Айзенка. Проверьте, в какой части круга оказалось значение результата вашего опросника.</p>
                                        <div style="text-align:center;"><img style="max-width: 500px;" src="/static/aizenk.jpg" alt="Шкала Айзенка" /></div>
                                        <h2>Значения по шкале Айзенка</h2>
                                        <p>Интересно, что стопроцентных экстравертов или интровертов не существует. В каждой личности в разном соотношении сочетаются качества обоих типов темпераментов. Рассмотрим подробнее значение каждого из полюсов теста на темперамент по кругу Айзенка.</p>
                                        <h2>Экстраверт</h2>
                                        <p>За словом в карман не полезет. Любитель поговорить обо всем на свете. Такой человек есть в каждом коллективе, он притягивает к себе слушателей, готов поддержать любой разговор. Любит знакомиться с новыми людьми, заводит много друзей. Но возможности уделить каждому должное внимание у него не хватает. Поэтому отношения носят поверхностный характер. Экстраверт любит создавать вокруг себя движение. Ему постоянно звонят по телефону, он куда-то собирается, торопится. Ему нравится находиться в обществе, это наполняет его энергией. Внешне экстраверта можно распознать по громкому голосу, звонкому смеху и активной жестикуляции. Часто ему трудно остановиться, он может наговорить лишнего. Ему скучно находиться наедине с собой. Даже будучи дома один, экстраверт будет с кем-нибудь общаться по телефону, переписываться. Склонен к риску, импульсивен в действиях. Зато веселый и заводной.</p>
                                        <h2>Интроверт</h2>
                                        <p>Для него типична некоторая отстраненность от общества. Круг друзей выбирает тщательно, с расчетом на всю жизнь. Интроверты неохотно вступают в контакт, только при необходимости. Это редкие гости на вечеринках, а если и появляются там, то под давлением, так как по собственной воле идти не хотят. Близкие интроверта - это проверенные годами, симпатичные ему люди. Если он не видится с ними долгое время, отношения по-прежнему остаются искренними и дружескими. Интроверты комфортно чувствуют себя в одиночестве, им всегда есть чем заняться. В компании быстро устают. При этом в социуме могут вести вполне активную жизнь, они не обязательно сидят дома в четырех стенах. Энергию интроверт получает от вещей: от хорошей еды, интересной литературы, здорового сна. Для него важнее внутренняя составляющая его жизни, стабильность и спокойствие. Как правило, он педантичен, не любит принимать быстрые решения. Характерна высокая степень самоконтроля, редко бывает зол. Обладает высокой нравственностью, склонен к излишней пессимистичности.</p>
                                        <h2>Нейротизм</h2>
                                        <p>Характеризуется повышенной возбудимостью, раздражительностью. Эта черта темперамента наделяет личность неуверенностью во всем (в себе, в окружающих, в вещах и действиях). В диагностике типа темперамента личности это свойство указывает на беспокойную натуру, ранимую и склонную к депрессии. Реакции на внешние раздражители могут быть неадекватными, что чревато последствиями в виде стресса и невроза. Человек восприимчив к внешним событиям, тревожен. В психологии определяют его как эмоционально нестабильный тип личности. Индивид с признаками нейротизма все время переживает по поводу и без, излишне самокритичен, опасается общественного транспорта. Преувеличены страхи по поводу близких людей.</p>
                                        <p>Нейротизм сопровождается чувством вины, беззащитностью.</p>
                                        <h2>Эмоциональная стабильность</h2>
                                        <p>Уверенность в себе, склонность к лидерству. Спокойствие и уравновешенность. Индивид готов помочь каждому (и помогает при возможности). Отсутствует напряженность, в стрессовых ситуациях действует четко и быстро. Быстро адаптируется к новым обстоятельствам, легко усваивает информацию. Человек не обращает внимания на мелочи жизни. Целенаправленно движется к своей цели.</p>
                                        <h2>Метод Павлова</h2>
                                        <p>Русский ученый-физолог И. В. Павлов выделил четыре известные типологии личности. Классификация следующая: холерик, меланхолик, сангвиник и флегматик. Экспресс-диагностика темпераментов Айзенка, в сочетании с методом Павлова, дала наиболее точное и раскрытое определение этих понятий. В итоге мы можем охарактеризовать людей следующим образом:</p>
                                        <ul>
                                        <li>Сангвиник - это личность с эмоциональной стабильностью и чертами экстраверта.</li>
                                        <li>Холерик - личность нестабильная эмоционально и экстраверт.</li>
                                        <li>Флегматик - эмоционально стабилен и интроверт.</li>
                                        <li>Меланхолик - интроверт, склонный к нейрозу.</li>
                                        </ul>
                                        <p>Изучим подробнее каждый из типов.</p>
                                        <h2>Холерик</h2>
                                        <p>У выраженных представителей этого темперамента эмоции преобладают над разумом. Любое событие в жизни выражается на эмоциональном уровне такого человека. В момент радости он будет прыгать, кричать, всех обнимать и громко смеяться. В момент разочарований горько плакать и рассказывать окружающим о своей беде. Причем переходить из одного состояния в другое он будет стремительно. Поток энергии, выбрасываемый в порыве эмоций, быстро иссякает, от этого постоянно требуется подпитка новыми ощущениями.</p>
                                        <p>Холерик энергично берется за новые дела, вся жизнь его наполнена действиями, которые требуют его неусыпного срочного внимания. Если у него есть любимое дело, холерик отдастся ему со всей страстностью. У него ярко выражены лидерские качества, он способен стать вождем, ведущим за собой людей. Обладает высокой стрессоустойчивостью, поскольку неспособен надолго задерживать внимание на неприятных моментах. Холерику свойственно бросать незавершенное до конца дело, если оно ему неинтересно. Часто меняется настроение, поскольку на каждый момент в жизни реагирует эмоционально. Вспыльчив и несдержан. Холерики, предпочитающие честные взаимоотношения, будут до потери пульса защищать необоснованно обвиняемых. Правдорубы, скорее от несдержанности. Стремятся быть главным действующим лицом в любом событии.</p>
                                        <h2>Меланхолик</h2>
                                        <p>Ранимый, склонный к познанию внутреннего «я». Если тест на темперамент показал, что индивид в основных чертах относится к меланхоликам - это не значит, что он печальный пессимист. У этого типа темперамента ярко выражено творческое начало. Меланхолик развит духовно и склонен к глубоким эмоциональным переживаниям. Умеет смотреть в корень проблемы или событий, замечает детали. Способен отлично справиться с любой работой, особенно требующей усидчивости и внимательности. Видит прекрасное в самых обычных вещах. Мнителен, от этого избегает контактов с людьми, которым не доверяет полностью. Снижена самооценка, обижается на высказывания в свой адрес. Медлителен, зато вынослив и способен к анализу. Чувствительный меланхолик склонен к долгосрочным отношениям с людьми. Потеряв его доверие, восстановить его, скорее всего, уже не получится.</p>
                                        <h2>Сангвиник</h2>
                                        <p>Переменчивый тип. Если тест на темперамент показал, что вы сангвиник - надо внимательно следить за своими эмоциями. Сангвиник меняет решение мгновенно, то же касается приверженности к увлечениям и работе. При этом сангвиник самый живой и веселый из всех типов темпераментов. Он активен, артистичен, обладает богатой мимикой. Интересно за ним наблюдать. Быстро приспосабливается к меняющимся обстоятельствам. За работу берется легко и радостно, с детства увлекается различными кружками, клубами по интересам. Сангвиник живет с удовольствием, радуется и работе, и отдыху. В случае недостатка в привязанностях и интересных увлечениях становится поверхностным.</p>
                                        <h2>Флегматик</h2>
                                        <p>Этот тип темперамента основательный и последовательный. Избирателен в увлечениях, все дела всегда доводит до логического завершения. Жизненная позиция слабая, не активен. К импульсивным поступкам не склонен, спокоен и собран, не любит пустых разговоров. В работе труженик, готов всегда помочь, принять ответственность. У флегматика глубокий внутренний мир. В отрицательных чертах он бывает вялым, неспособным к решительному шагу. Зато самый спокойный из всех, инертный. Упорен в достижении цели. Стрессоустойчивый, конфликтов избегает. К новым условиям тяжело приспосабливается, не готов к резким переменам. Эмоциям не подвержен, не выражает чувств напрямую. Он способен выслушать другого человека, при этом о своих чувствах не распространяется. С самооценкой проблем не наблюдается, редко она бывает немного занижена.</p>
                    `
                    //
                    // console.log(state.result.calculated)
                    temperament_block.append(end_description);
                }

                this.create_answer_block = create_answer_block;
                this.create_result_block = create_result_block;

            };

            let state = {
                completed: false,
                result: {
                    calculated: {},
                    user_answers: {},
                },
            };

            let temperament_diagnostic_block = document.getElementById("temperament_diagnostic_block");
            clearProblemSigns(temperament_diagnostic_block);

            let submit_button = $(temperament_diagnostic_block).closest(".problem").find('button.submit');
            submit_button.attr("disabled", "disabled");

            let temperament_diagnostic = new TemperamentDiagnostic(temperament_diagnostic_block);

            if (answer.get()) {
                state = answer.getJSON()["answer"];

                if(state.completed){
                    temperament_diagnostic.create_result_block();
                    $('span.submit-label', submit_button).html("Пройти еще раз");
                    submit_button.removeAttr("disabled");
                    reset_answer();
                }
                else{
                    temperament_diagnostic.create_answer_block();
                    submit_button.attr("disabled", "disabled");
                }
            }
            else{
                temperament_diagnostic.create_answer_block()
            }


        });
    </script>


    <div id="temperament_diagnostic_block"></div>
    <div id="temperament_diagnostic_input" style="display: none !important;">
        <customresponse cfn="check_answer">
            <textline/>
        </customresponse>
    </div>

<!--

В методике расчета не используется 34 вопрос - норма ли это?

-->

</problem>
