<problem>
<style>
    .no-equation .equation{
        display: none !important;
    }
</style>
    <script type="loncapa/python">
import math
import random
import scipy.stats
import numpy as np

from scipy.stats import norm

a = random.randint(7, 15)
l = random.randint(5, a-1)

a = round(a * 0.1, 1)
l = round(l * 0.1, 1)

ax2 = 2 * a  # расстояние м/у прямыми
lx2 = 2 * l  # длина иглы

r = random.randint(10000, 100000)
nums = [random.choice([1, 0]) for x in range(r)]
n = sum(nums)
math_pi = 3.141592

P = random.choice([0.95, 0.96, 0.97, 0.98, 0.99])

qnorm = norm.ppf(P/2 + 0.5, loc=0, scale=1)
znam = math.sqrt(r/(((2*l)/(math_pi*a)) * (1 - (2*l)/(math_pi*a)) ))

answer_1 = qnorm/znam
answer_1 = round(answer_1, 5)


#P1 = random.choice([0.95, 0.96, 0.97, 0.98, 0.99])
eps = random.choice([0.1,0.01,0.001,0.0001, 0.2,0.02,0.002,0.0002, 0.3,0.03,0.003,0.0003])

p = (2 * l)/(math_pi * a)
q = 1 - p

answer_2 = 2 * scipy.stats.norm.cdf(eps * math.sqrt(n/(p*q)))
answer_2 = round(answer_2, 5)

</script>
    <div class="no-equation">
                <p>Число бросков: $r</p>
        <p>Число пересечений: $n</p>
        <p>Длина иглы: $lx2</p>
        <p>Расстояние между прямыми: $ax2</p>

        <p>Найти погрешность нахождения числа \(\pi\), используя понятие отклонения относительной частоты от вероятности появления события при \($r\) независимых испытаниях.</p>
        <p>Принять данную вероятность за \( P = $P\).</p>

        <p><strong>Ответ: Получили погрешность числа пи равную $answer_1</strong></p>
<!--    <numericalresponse answer="$P">-->
<!--        <responseparam type="tolerance" default="0.001"/>-->
<!--        <formulaequationinput/>-->
<!--    </numericalresponse>-->
        <p>Найти минимальное количество бросков иглы, которые нужно произвести, чтоб с вероятностью \($P\) точность определения числа ПИ была не больше \(ε=$eps\)</p>
        <p><strong>Ответ: минимальное количество бросков иглы $answer_2</strong></p>

    </div>
</problem>
