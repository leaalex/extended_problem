<script type="text/javascript">
function play_func(audio_btn) {
  var audio_block = audio_btn.querySelector("audio");
  var icon_i = audio_btn.querySelector(".fa.ovz-icon");
  audio_block.onended = function() {
    icon_i.classList.remove('fa-pause')
    icon_i.classList.add('fa-play')
  };

  function start_stop(){
      console.log("Запускаем старт стоп")
      if (!audio_block.paused) {
          audio_block.pause();
          icon_i.classList.remove('fa-pause')
          icon_i.classList.add('fa-play')
      }else{
          audio_block.play();
          icon_i.classList.add('fa-pause')
          icon_i.classList.remove('fa-play')
        }
  }

    if (getSelectionText().replace(" ", "") !== ''){
      if( audio_btn.innerText.includes(getSelectionText())){
        console.log("не запускаем")
        return;
      }
    }
    start_stop();

function getSelectionText() {
    var text = "";
    if (window.getSelection) {
        text = window.getSelection().toString();
    } else if (document.selection && document.selection.type != "Control") {
        text = document.selection.createRange().text;
    }
    return text;
}
};
</script>
<style>
  .vert-mod h3 {
    margin-top: 0px !important;
  }

  .problem{
  padding-top: 6px !important;
  }
   .ovz-task button {
      background-color: #ffffff;
      border: none;
      padding: 2px;
      font-weight: normal !important;
      margin: 3px 0px 3px;
      text-align: center;
      text-decoration: none;
      display: inherit !important;
      font-size: 1.2em;
      background-image: none !important;
      -webkit-user-select: text;
      -moz-user-select: text;
      -ms-user-select: text;
      user-select: text;
      border-radius: 0px !important;
    }

  .ovz-audio-button p {
  	text-align: left !important;
    margin-bottom: 0 !important;
  }
  .ovz-task button:hover,  .ovz-task button:hover:not(:disabled){
  	background-color: #fbfbfb !important;
  }

  .ovz-task input {
    letter-spacing: 0.05em !important;
    font-size: 1.4em !important;
}

.ovz-task i {
      font-style: normal !important;;
  }
.ovz-task .answer{
  	display: none !important;
  }

  div.problem .action {
    margin-top: 2px !important;
  }
  </style>
