
<div id="lolo"></div>
<script type="text/javascript">
var countdownTimer = function (elem, stop_time , options, stop_func) {

    var timer = createTimer(),
        offset,
        clock,
        interval;

    clock = stop_time * 1000;
    options = options || {};
    options.delay = options.delay || 1;

    elem.appendChild(timer);

    reset();

function createTimer() {
    var timer_div = document.createElement("div");
    timer_div.className = "timer-block";
    return timer_div;
}


function start() {
    if (!interval) {
        offset = Date.now();
        console.log(interval);
        interval = setInterval(update, options.delay);
    }
}

function stop() {
    if (interval) {
        clearInterval(interval);
        interval = null;
    }
}

function reset() {
    clock = stop_time * 1000;
    render();
}

function update() {
    // console.log(clock);
    if(clock > 0) {
        clock -= delta();
    }
    else{
        clock = 0;
        stop();
        stop_func();
    }
    render();
}

function current_time() {
    return clock / 1000;
}

function render() {
    timer.innerHTML = "<strong>" + sec2time(clock / 1000) + "</strong>";
}

function delta() {
    var now = Date.now(),
        d = now - offset;
    offset = now;
    return d;
}

function sec2time(timeInSeconds) {
    var pad = function (num, size) {
            return ('000' + num).slice(size * -1);
        },
        time = parseFloat(timeInSeconds).toFixed(3),
        hours = Math.floor(time / 60 / 60),
        minutes = Math.floor(time / 60) % 60,
        seconds = Math.floor(time - minutes * 60),
        milliseconds = time.slice(-3);

    return pad(minutes, 2) + ':' + pad(seconds, 2)
    // return pad(hours, 2) + ':' + pad(minutes, 2) + ':' + pad(seconds, 2) + ',' + pad(milliseconds, 3);
}

// public API
this.current_time = current_time;
this.start = start;
this.stop = stop;
this.reset = reset;
};

var Stopwatch = function (elem, options) {

    var timer = createTimer(),
        offset,
        clock,
        interval;

    options = options || {};
    options.delay = options.delay || 1;

    elem.appendChild(timer);

    reset();

    // private functions
    function createTimer() {
        var timer_div = document.createElement("div");
        timer_div.className = "timer-block";
        return timer_div;
    }


    function start() {
        if (!interval) {
            offset = Date.now();
            interval = setInterval(update, options.delay);
        }
    }

    function stop() {
        if (interval) {
            clearInterval(interval);
            interval = null;
        }
    }

    function reset() {
        clock = 0;
        render();
    }

    function update() {
        clock += delta();
        render();
    }

    function current_time() {
        return clock / 1000;
    }

    function render() {
        timer.innerHTML = "" + sec2time(clock / 1000) + "";
    }

    function delta() {
        var now = Date.now(),
            d = now - offset;

        offset = now;
        return d;
    }

    function sec2time(timeInSeconds) {
        var pad = function (num, size) {
                return ('000' + num).slice(size * -1);
            },
            time = parseFloat(timeInSeconds).toFixed(3),
            hours = Math.floor(time / 60 / 60),
            minutes = Math.floor(time / 60) % 60,
            seconds = Math.floor(time - minutes * 60),
            milliseconds = time.slice(-3);

        // return pad(minutes, 2) + ':' + pad(seconds, 2);
        return pad(hours, 2) + ':' + pad(minutes, 2) + ':' + pad(seconds, 2) + ',' + pad(milliseconds, 3);
    }

    // public API
    this.current_time = current_time;
    this.start = start;
    this.stop = stop;
    this.reset = reset;
};

var lol = document.getElementById("lolo");
console.log(lol);

var kek = new Stopwatch(lol, {});



</script>

