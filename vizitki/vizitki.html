<problem>
    <style>
        .business-card{
        }

        .one-side{

        }

        .one-side  .business-card{
            max-width: 450px;
            width: 100%;
        }

        .two-side{
            display: flex;
        }

        .two-side  .business-card{
            /*width: 100%;*/
            /*max-width: 450px;*/
        }
    </style>
    <label><strong>1.</strong> В техническом задании было указано, что визитка должна демонстрировать высокий уровень профессионализма компании и ее представителя. Какая из визиток, спроектированных дизайнером, отвечает этому требованию в наибольшей мере? </label>
    <multiplechoiceresponse>
        <choicegroup type="MultipleChoice">
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_002.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_005.png" /></div></choice>
            <choice correct="true"><div class="one-side"><img class="business-card" src="/static/business_card_028.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_012.png" /></div></choice>
        </choicegroup>
    </multiplechoiceresponse>

    <label><strong>2.</strong> Известно, что на визитки распространяется дизайнерское правило повторения узнаваемых элементов. Какая из двусторонних визиток соответствует ему в наибольшей степени?</label>
    <multiplechoiceresponse>
        <choicegroup type="MultipleChoice">
            <choice correct="false"><div class="two-side"><div><img class="business-card" src="/static/business_card_017.png" /></div> <div><img class="business-card" src="/static/business_card_017_1.png" /></div></div></choice>
            <choice correct="false"><div class="two-side"><div><img class="business-card" src="/static/business_card_004.png" /></div> <div><img class="business-card" src="/static/business_card_004_1.png" /></div></div></choice>
            <choice correct="true"><div class="two-side"><div><img class="business-card" src="/static/business_card_020.png" /></div> <div><img class="business-card" src="/static/business_card_020_1.png" /></div></div></choice>
            <choice correct="false"><div class="two-side"><div><img class="business-card" src="/static/business_card_027.png" /></div> <div><img class="business-card" src="/static/business_card_027_1.png" /></div></div></choice>
        </choicegroup>
    </multiplechoiceresponse>

    <label><strong>3.</strong> В техническом задании было указано, что визитка должна формировать представление о компании как современной, продвинутой и инновационной. Какая из визиток, созданных дизайнером, соответствует этому требованию?</label>
    <multiplechoiceresponse>
        <choicegroup type="MultipleChoice">
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_014.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_013.png" /></div></choice>
            <choice correct="true"><div class="one-side"><img class="business-card" src="/static/business_card_008.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_025.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_011.png" /></div></choice>
            <choice correct="false"><div class="two-side"><div><img class="business-card" src="/static/business_card_018.png" /></div> <div><img class="business-card" src="/static/business_card_018_1.png" /></div></div></choice>
        </choicegroup>
    </multiplechoiceresponse>

    <label><strong>4.</strong> Начинающие дизайнеры часто стремятся визуально заполнить все пространство визитки или другого продукта. Найдите вариант, который свидетельствует об опыте и профессионализме разработчика визитки.</label>
    <multiplechoiceresponse>
        <choicegroup type="MultipleChoice">
            <choice correct="true"><div class="one-side"><img class="business-card" src="/static/business_card_001.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_024.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_016.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_009.png" /></div></choice>
        </choicegroup>
    </multiplechoiceresponse>

    <label><strong>5.</strong> Дизайнер думает не только о целом продукте, но и о мелочах. Укажите визитки, в которых избыточное число деталей мешают считыванию основной информации. Учитывайте не только композицию, но текстовые блоки, шрифты и т. д.</label>
    <choiceresponse>
        <checkboxgroup>
            <choice correct="true"><div class="one-side"><img class="business-card" src="/static/business_card_031.png" /></div></choice>
            <choice correct="true"><div class="one-side"><img class="business-card" src="/static/business_card_025.png" /></div></choice>
            <choice correct="false"><div class="two-side"><div><img class="business-card" src="/static/business_card_019.png" /></div> <div><img class="business-card" src="/static/business_card_019_1.png" /></div></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_010.png" /></div></choice>
        </checkboxgroup>
    </choiceresponse>

    <label><strong>6.</strong> На какой из визиток те или иные элементы мешают целостности дизайнерского решения (например, логотип компании меньше официального названия компании и т.п.; скобки; разделение адресного блока на два и т.п.)?</label>
    <choiceresponse>
        <checkboxgroup>
            <choice correct="false"><div class="two-side"><div><img class="business-card" src="/static/business_card_019.png" /></div> <div><img class="business-card" src="/static/business_card_019_1.png" /></div></div></choice>
            <choice correct="true"><div class="two-side"><div><img class="business-card" src="/static/business_card_032.png" /></div> <div><img class="business-card" src="/static/business_card_032_1.png" /></div></div></choice>
            <choice correct="true"><div class="one-side"><img class="business-card" src="/static/business_card_024.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_030.png" /></div></choice>
        </checkboxgroup>
    </choiceresponse>

    <label><strong>7.</strong> Какой текст будет восприниматься лучше, а значит, впечатление от владельца визитки будет более позитивным?</label>
    <multiplechoiceresponse>
        <choicegroup type="MultipleChoice">
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_015.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_007.png" /></div></choice>
            <choice correct="true"><div class="one-side"><img class="business-card" src="/static/business_card_010.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_016.png" /></div></choice>
        </choicegroup>
    </multiplechoiceresponse>

    <label><strong>8.</strong> В техзадании было сказано о визитке, которая смотрелась бы креативно, но была экономична в исполнении. Какой вариант удовлетворяет этим требованиям?</label>
    <div>
        <ul>
            <li>сложенная</li>
            <li>вырубка</li>
            <li>рисунок</li>
            <li>калька</li>
        </ul>
    </div>
    <multiplechoiceresponse>
        <choicegroup type="MultipleChoice">
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_007.png" /></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_006.png" /></div></choice>
            <choice correct="true"><div class="two-side"><div><img class="business-card" src="/static/business_card_033.png" /></div> <div><img class="business-card" src="/static/business_card_033_1.png" /></div></div></choice>
            <choice correct="false"><div class="one-side"><img class="business-card" src="/static/business_card_015.png" /></div></choice>
        </choicegroup>
    </multiplechoiceresponse>

    <label><strong>9.</strong> Ради впечатления и оригинальности дизайнер нарушил стандартный формат визитки. Она будет говорить о:</label>

    <div style="text-align: center;"><img style="width: 70%;margin: 20px 0px;" class="business-card" src="/static/business_card_008.png" /></div>
    <multiplechoiceresponse>
        <choicegroup type="MultipleChoice" shuffle="true">
            <choice correct="false">незнании владельцем этикета</choice>
            <choice correct="false">стремлении владельца диктовать моду</choice>
            <choice correct="true">продвинутости владельца или компании</choice>
            <choice correct="false">невнимании к условиям использования визитки</choice>
        </choicegroup>
    </multiplechoiceresponse>

    <problem>
        <style>
            #$unique_id .text-fixed-width{
                width: 300px !important;
            }
            #$unique_id .text-fixed-height{
                  height: 160px;
              }

            #$unique_id .conf-item {
                  /*max-height: 130px !important;*/
                  /*width: 100%;*/
                  /*display: flex;*/
                  /* display: inline-block; */
                  /*max-height: inherit !important;*/
              }

            #conf-id .conf-item{
                width: 100%;
            }

            #$unique_id #matching_table_input input[type=text]{
                  display:none;
              }

            #$unique_id #matching_table_input .capa_inputtype{
                  text-align: center !important;
              }
        </style>
        <script type="loncapa/python">
import math
import json

unique_id = "task_Fd234fgb34fD"

correct_answer = {"a1":["b1"], "a2":["b2"], "a3":["b3"], "a4":["b4"]}

# types:
#     all_items
#     correct_order
#     check_or

check_type = 'all_items'
show_wrong_cells = False


def get_response(grade_decimal, wrong_cells=None):
    response = {}
    response["grade"] = grade_decimal
    if wrong_cells is not None and show_wrong_cells:
        response["wrong_cells"] = wrong_cells
    if grade_decimal == 1:
        response["ok"] = True
        response["message"] = 'Correctly'
    elif grade_decimal == 0:
        response["ok"] = False
        response["message"] = 'Incorrectly'
    else:
        response["ok"] = 'Partial'
        response["message"] = 'Partially'
    return response

def check_or(CA, SA):
    _max_grade = float(len(CA.keys()))
    _grade = 0
    for key in CA.keys():
        if type(CA[key]).__name__ == "dict":
            if "or" in CA[key].keys():
                _grade += len([True for i in CA[key]["or"] if set(i) == set(SA[key])])
        else:
            if (set(CA[key]) == set(SA[key])):
                _grade += 1

    grade_decimal = _grade / _max_grade
    response = get_response(round(grade_decimal, 2))
    return response

def check_all_items(CA, SA):
    max_grade = 0
    grade = 0
    wrong_cells = []
    for key in CA.keys():
        max_grade = max_grade + len(CA[key])
        for item in CA[key]:
            if type(item).__name__ == 'set':
                for subitem in list(item):
                    wrong_cells.append(key)
                    if subitem in SA[key]:
                        grade = grade + 1
                        wrong_cells = list(set(wrong_cells))
                        wrong_cells.remove(key)
                        break
            else:
                if item in SA[key]:
                    grade = grade + 1
                else:
                    wrong_cells.append(key)
    grade_decimal = round(float(grade) / float(max_grade), 2)
    response = get_response(grade_decimal, wrong_cells)
    return response


def check_correct_order(CA, SA):
    grade = 0
    max_grade = len(CA.keys())
    grade_decimal = 0
    for key in CA.keys():
        if (set(CA[key]) == set(SA[key])):
            grade = grade + 1
    if grade == max_grade:
        grade_decimal = 1
    response = get_response(grade_decimal)
    return response


def check_answer(expect, ans):
    student_answer = json.loads(ans)
    student_answer = student_answer["answer"]
    if check_type == 'all_items':
        response = check_all_items(correct_answer, student_answer)
    elif check_type == 'correct_order':
        response = check_correct_order(correct_answer, student_answer)
    elif check_type == 'check_or':
        response = check_or(correct_answer, student_answer)
    return {
        'input_list': [{'ok': response['ok'], 'msg': str(json.dumps(response)), 'grade_decimal': response['grade']}, ]}

</script>
        <script type="text/javascript" src="https://openedu.urfu.ru/files/mengine/matching_table/matching_table.js">
        </script>
        <label><strong>10.</strong> Без каких элементов грамотный дизайнер мог бы обойтись в данном случае? </label>
        <div class="matching_table" id="$unique_id">
            <table class="conf-table">
                <tr>
                    <td class="conf-text text-fixed-width" style="padding: 7px !important;">
                        <i>Визитная карточка</i>
                    </td>
                    <td class="conf-text" style="padding: 7px !important;">
                        <i>Элемент</i>
                    </td>
                </tr>
                <tr>
                    <td class="conf-text text-fixed-width text-fixed-height"><img style="width: 100%" src="/static/business_card_021.png" /></td>
                    <td id="a1" class="conf-answers-place"/>
                </tr>
                <tr>
                    <td class="conf-text text-fixed-width text-fixed-height"><img style="width: 100%" src="/static/business_card_023.png" /></td>
                    <td id="a2" class="conf-answers-place"/>
                </tr>
                <tr>
                    <td class="conf-text text-fixed-width text-fixed-height"> <img style="width: 100%" src="/static/business_card_030.png" /></td>
                    <td id="a3" class="conf-answers-place"/>
                </tr>
                <tr>
                    <td class="conf-text text-fixed-width text-fixed-height"><img style="width: 100%" src="/static/business_card_006.png" /></td>
                    <td id="a4" class="conf-answers-place"/>
                </tr>

            </table>

            <div id="conf-id" style="flex-wrap: wrap;display: flex;" class="conf-answers-place conf-all-answers">
                <div id="b1" class="conf-item">яркий образ</div>
                <div id="b2" class="conf-item">разбиение пространства на асимметричные части</div>
                <div id="b3" class="conf-item">контраст, мешающий считыванию информации</div>
                <div id="b4" class="conf-item">«выворотка» - белый текст</div>
            </div>
            <div id="matching_table_input">
                <customresponse cfn="check_answer">
                    <textline size="40" value="$taskId"/>
                    <br/>
                </customresponse>
            </div>
        </div>
    </problem>

</problem>
